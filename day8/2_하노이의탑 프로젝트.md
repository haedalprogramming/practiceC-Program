# Day8: C언어 하노이의탑 프로젝트

---

## 1. Day1~Day7 학습 내용 정리

### Day1-4: C언어 기초와 기본 프로젝트
- C언어 프로그램의 기본 구조 (main 함수, 중괄호, 세미콜론)
- 변수 선언과 데이터 타입 (int, float, char)
- printf, scanf를 이용한 입력과 출력
- 연산자, 조건문(if, switch), 반복문(while, for)
- 간단한 프로젝트 (계산기, 숫자야구)

### Day5: 배열과 문자열
- 1차원 배열의 선언과 사용
- 문자열 처리 기초

### Day6: 함수
- 함수 정의와 호출
- 매개변수와 반환값
- **재귀함수 (자기 자신을 호출하는 함수)**

### Day7: 라이브러리
- 표준 라이브러리 함수들 (stdio.h, stdlib.h 등)

---

## 2. 하노이의탑 프로젝트 상세 요구사항

### 1. 프로그램 목적
- 하노이의탑 문제를 재귀함수로 해결하는 프로그램
- 사용자가 원판 개수를 입력하면, 모든 이동 과정을 단계별로 출력
- 최종적으로 총 이동 횟수도 출력

### 2. 하노이의탑 규칙
- 3개의 기둥(A, B, C)이 있고, 처음에 모든 원판이 A 기둥에 크기 순으로 쌓여 있음
- 목표: 모든 원판을 C 기둥으로 옮기기
- 규칙:
  1. 한 번에 하나의 원판만 옮길 수 있음
  2. 큰 원판을 작은 원판 위에 올릴 수 없음
  3. 기둥의 맨 위 원판만 옮길 수 있음

---

### 3. 입력 및 동작 방식

#### 3.1. 사용자 입력
- "원판의 개수를 입력하세요 (1-10): " 메시지 출력
- 1~10 사이의 정수를 입력받음
- 잘못된 입력은 다시 입력받음

#### 3.2. 이동 과정 출력
- 각 이동 단계를 "n번 원판을 A에서 C로 이동" 형식으로 출력
- 이동 순서대로 모든 과정을 출력

#### 3.3. 결과 출력
- 모든 이동이 완료되면 "모든 원판 이동 완료!"
- "총 이동 횟수: X번" 출력

---

### 4. 예외 상황 및 처리

| 상황                      | 출력 메시지                                                    | 동작                                      |
|---------------------------|----------------------------------------------------------------|--------------------------------------------|
| 범위 벗어난 입력          | 1~10 사이의 숫자를 입력하세요.                                 | 다시 입력 받음                             |
| 문자 입력                 | 숫자를 입력하세요.                                            | 다시 입력 받음                             |

---

### 5. 입력/출력 예시

```
============================
    [C 하노이의탑 해결기]   
----------------------------
원판의 개수를 입력하세요 (1-10): 3

하노이의탑 해결 과정:
1번 원판을 A에서 C로 이동
2번 원판을 A에서 B로 이동
1번 원판을 C에서 B로 이동
3번 원판을 A에서 C로 이동
1번 원판을 B에서 A로 이동
2번 원판을 B에서 C로 이동
1번 원판을 A에서 C로 이동

모든 원판 이동 완료!
총 이동 횟수: 7번
============================
```

---

## 6. 재귀함수 이해하기

### 하노이의탑의 재귀적 사고
- n개의 원판을 A에서 C로 옮기는 방법:
  1. 위의 (n-1)개 원판을 A에서 B로 옮김
  2. 가장 큰 원판을 A에서 C로 옮김  
  3. (n-1)개 원판을 B에서 C로 옮김

### 재귀함수의 구조
- **기저 조건**: 원판이 1개일 때는 바로 옮김
- **재귀 호출**: 문제를 더 작은 문제로 나누어 해결

---

## 7. 구현 단계별 가이드

### 1단계: 기본 구조와 변수 선언
- 이동 횟수를 세는 전역 변수
- 재귀함수 원형 선언

### 2단계: 재귀함수 구현
- 기저 조건 (n == 1)
- 재귀 호출 3단계

### 3단계: 입력 처리 및 예외처리
- 1~10 범위 체크
- 잘못된 입력 처리

### 4단계: 결과 출력
- 각 이동 과정 출력
- 총 이동 횟수 출력

---

## 8. 따라 만들기
<details>
<summary>먼저 직접 구현해보고 펼쳐보세요!</summary>

### 1단계: 기본 구조와 변수 선언
```c
#include <stdio.h>

int move_count = 0; // 이동 횟수 카운트

void hanoi(int n, char from, char to, char temp);
void print_move(int disk, char from, char to);
```

### 2단계: 이동 출력 함수
```c
void print_move(int disk, char from, char to) {
    printf("%d번 원판을 %c에서 %c로 이동\n", disk, from, to);
    move_count++;
}
```

### 3단계: 하노이 재귀함수
```c
void hanoi(int n, char from, char to, char temp) {
    if (n == 1) {
        // 기저 조건: 원판이 1개일 때
        print_move(1, from, to);
    } else {
        // 1단계: 위의 (n-1)개 원판을 목적지가 아닌 곳으로 옮김
        hanoi(n-1, from, temp, to);
        
        // 2단계: 가장 큰 원판을 목적지로 옮김
        print_move(n, from, to);
        
        // 3단계: (n-1)개 원판을 목적지로 옮김
        hanoi(n-1, temp, to, from);
    }
}
```

### 4단계: 메인 함수
```c
int main() {
    int n;
    
    printf("============================\n");
    printf("    [C 하노이의탑 해결기]\n");
    printf("============================\n");
    
    // 입력 받기 및 예외처리
    while (1) {
        printf("원판의 개수를 입력하세요 (1-10): ");
        if (scanf("%d", &n) == 1 && n >= 1 && n <= 10) {
            break;
        } else {
            printf("1~10 사이의 숫자를 입력하세요.\n");
            while (getchar() != '\n'); // 버퍼 비우기
        }
    }
    
    printf("\n하노이의탑 해결 과정:\n");
    
    // 초기화
    move_count = 0;
    
    // 하노이 탑 해결 (A에서 C로, B를 임시로 사용)
    hanoi(n, 'A', 'C', 'B');
    
    printf("\n모든 원판 이동 완료!\n");
    printf("총 이동 횟수: %d번\n", move_count);
    printf("============================\n");
    
    return 0;
}
```

### 5단계: 추가 기능 (선택사항)
```c
// 이론적 최소 이동 횟수와 비교
void print_theory() {
    int theory = (1 << n) - 1; // 2^n - 1
    printf("이론적 최소 이동 횟수: %d번\n", theory);
    printf("실제 이동 횟수: %d번\n", move_count);
    if (move_count == theory) {
        printf("최적 해결!\n");
    }
}
```

</details>

---

## 9. 심화 학습

### 수학적 분석
- n개 원판의 최소 이동 횟수: 2^n - 1
- 원판 3개: 7번, 원판 4개: 15번, 원판 5개: 31번

### 재귀함수의 특징
- 스택 오버플로우 주의 (너무 많은 재귀 호출)
- 메모리 사용량이 증가할 수 있음
- 문제를 간단하고 명확하게 표현 가능 