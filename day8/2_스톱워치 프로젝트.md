# Day8: C언어 스톱워치 프로젝트

---

## 1. Day1~Day7 학습 내용 정리

### Day1-4: C언어 기초와 기본 프로젝트
- C언어 프로그램의 기본 구조 (main 함수, 중괄호, 세미콜론)
- 변수 선언과 데이터 타입 (int, float, char)
- printf, scanf를 이용한 입력과 출력
- 연산자, 조건문(if, switch), 반복문(while, for)
- 간단한 프로젝트 (계산기, 숫자야구)

### Day5: 배열과 문자열
- 1차원 배열의 선언과 사용
- 문자열 처리 기초

### Day6: 함수
- 함수 정의와 호출
- 매개변수와 반환값
- 변수의 유효범위

### Day7: 라이브러리
- **time.h 라이브러리 (시간 처리)**
- time(), clock() 함수
- 시간 형식화 출력

---

## 2. 스톱워치 프로젝트 상세 요구사항

### 1. 프로그램 목적
- 시간을 정확하게 측정하는 스톱워치 프로그램
- 시작, 정지, 리셋, 랩타임 기록 기능
- 직관적인 메뉴 시스템으로 쉬운 조작
- 시간을 보기 좋은 형식으로 출력

### 2. 스톱워치 기본 기능
- **시작**: 시간 측정 시작
- **정지**: 시간 측정 정지
- **리셋**: 측정된 시간을 0으로 초기화
- **종료**: 프로그램 종료

---

### 3. 입력 및 동작 방식

#### 3.1. 메뉴 시스템
```
============================
    [C 스톱워치 프로그램]   
============================
현재 시간: 00:00.000

1. 시작
2. 정지
3. 리셋
4. 종료

선택하세요: 
```

#### 3.2. 시간 출력 형식
- 기본 형식: "MM:SS" (분:초)
- 예시: "01:23" (1분 23초)
- 간단하고 보기 쉬운 형식

---

### 4. 예외 상황 및 처리

| 상황                      | 출력 메시지                                                    | 동작                                      |
|---------------------------|----------------------------------------------------------------|--------------------------------------------|
| 잘못된 메뉴 선택          | 1~4 사이의 숫자를 입력하세요.                                 | 다시 메뉴 출력                             |
| 정지 상태에서 정지 선택   | 이미 정지된 상태입니다.                                       | 현재 상태 유지                             |

---

### 5. 입력/출력 예시

```
============================
    [C 스톱워치 프로그램]   
============================
현재 시간: 00:00

1. 시작
2. 정지
3. 리셋
4. 종료

선택하세요: 1

스톱워치 시작!

============================
    [C 스톱워치 프로그램]   
============================
현재 시간: 01:25

1. 시작
2. 정지
3. 리셋
4. 종료

선택하세요: 2

스톱워치 정지! 최종 시간: 01:25
```

---

## 6. 시간 측정 이해하기

### clock() 함수 활용
- C언어의 `clock()` 함수는 프로그램 시작부터의 CPU 시간을 측정
- `CLOCKS_PER_SEC` 상수로 초 단위 변환
- 높은 정밀도로 시간 측정 가능

### 시간 계산 방법
```c
// 시작 시간 저장
clock_t start_time = clock();

// 경과 시간 계산
clock_t current_time = clock();
double elapsed = (double)(current_time - start_time) / CLOCKS_PER_SEC;
```

### 시간 형식화
- 초를 분, 초, 밀리초로 분리
- `sprintf()` 함수로 형식화된 문자열 생성

---

## 7. 구현 단계별 가이드

### 1단계: 기본 구조와 변수
- 시작 시간 저장 변수
- 스톱워치 상태 변수 (0: 정지, 1: 실행중)

### 2단계: 시간 계산 함수
- 경과 시간 계산
- 시간을 분:초 형식으로 출력

### 3단계: 메뉴 시스템
- 간단한 메뉴 출력
- 사용자 입력 처리

### 4단계: 스톱워치 기능
- 시작/정지/리셋 기능만 구현

---

## 8. 따라 만들기
<details>
<summary>먼저 직접 구현해보고 펼쳐보세요!</summary>

### 1단계: 기본 구조와 변수 선언
```c
#include <stdio.h>
#include <time.h>

// 전역 변수
clock_t start_time = 0;    // 시작 시간
int is_running = 0;        // 0: 정지, 1: 실행중

// 함수 원형 선언
void print_menu(void);
void show_time(void);
void start_stopwatch(void);
void stop_stopwatch(void);
void reset_stopwatch(void);
```

### 2단계: 시간 계산 및 출력 함수
```c
// 현재 경과 시간을 분:초 형식으로 출력
void show_time(void) {
    if (!is_running && start_time == 0) {
        printf("현재 시간: 00:00");
        return;
    }
    
    clock_t current_time = clock();
    double elapsed = (double)(current_time - start_time) / CLOCKS_PER_SEC;
    
    int minutes = (int)elapsed / 60;
    int seconds = (int)elapsed % 60;
    
    printf("현재 시간: %02d:%02d", minutes, seconds);
}

// 화면 지우기 (간단한 방법)
void clear_screen(void) {
    for (int i = 0; i < 30; i++) {
        printf("\n");
    }
}
```

### 3단계: 스톱워치 기능 함수들
```c
// 스톱워치 시작
void start_stopwatch(void) {
    if (is_running) {
        printf("이미 실행 중입니다.\n\n");
    } else {
        start_time = clock();
        is_running = 1;
        printf("스톱워치 시작!\n\n");
    }
}

// 스톱워치 정지
void stop_stopwatch(void) {
    if (!is_running) {
        printf("이미 정지된 상태입니다.\n\n");
    } else {
        is_running = 0;
        
        // 최종 시간 계산해서 출력
        clock_t current_time = clock();
        double elapsed = (double)(current_time - start_time) / CLOCKS_PER_SEC;
        int minutes = (int)elapsed / 60;
        int seconds = (int)elapsed % 60;
        
        printf("스톱워치 정지! 최종 시간: %02d:%02d\n\n", minutes, seconds);
    }
}

// 스톱워치 리셋
void reset_stopwatch(void) {
    start_time = 0;
    is_running = 0;
    printf("스톱워치 리셋 완료!\n\n");
}
```

### 4단계: 메뉴 시스템과 메인 함수
```c
// 메뉴 출력
void print_menu(void) {
    printf("============================\n");
    printf("    [C 스톱워치 프로그램]   \n");
    printf("============================\n");
    
    show_time();
    
    if (is_running) {
        printf(" (실행중)");
    }
    printf("\n\n");
    
    printf("1. 시작\n");
    printf("2. 정지\n");
    printf("3. 리셋\n");
    printf("4. 종료\n\n");
    printf("선택하세요: ");
}

// 메인 함수
int main() {
    int choice;
    
    printf("간단한 스톱워치 프로그램입니다!\n\n");
    
    while (1) {
        clear_screen();
        print_menu();
        
        if (scanf("%d", &choice) != 1) {
            while (getchar() != '\n'); // 버퍼 비우기
            printf("숫자를 입력하세요.\n");
            printf("계속하려면 Enter를 누르세요...");
            getchar();
            continue;
        }
        
        switch (choice) {
            case 1:
                start_stopwatch();
                break;
            case 2:
                stop_stopwatch();
                break;
            case 3:
                reset_stopwatch();
                break;
            case 4:
                printf("스톱워치를 종료합니다. 안녕히 가세요!\n");
                return 0;
            default:
                printf("1~4 사이의 숫자를 입력하세요.\n\n");
        }
        
        printf("계속하려면 Enter를 누르세요...");
        while (getchar() != '\n'); // 버퍼 비우기
        getchar(); // Enter 대기
    }
    
    return 0;
}
```
</details>
